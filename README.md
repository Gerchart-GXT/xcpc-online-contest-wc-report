# 厕所报备系统使用文档

## 系统概述
本系统专为ACM比赛设计，用于管理队伍成员上厕所的报备流程。系统提供完整的队伍管理、上厕所报备、状态跟踪和历史记录功能。

演示地址：https://demo.imgxt.com/wc/

![1757233352618.png](https://picture.imgxt.com/local/1/2025/09/07/68bd40de3873d.png)

* 本项目为纯前端项目，不会收集您的个人信息，如果需要清除缓存请根据所使用浏览器进行操作，亦可使用无痕页面就行浏览

## 主要功能
1. **队伍管理**：添加、删除和清空队伍信息
2. **上厕所报备**：生成报备信息并自动复制
3. **状态跟踪**：实时显示正在上厕所的成员及计时
4. **历史记录**：记录所有上厕所活动，支持搜索和导出
5. **自定义格式**：灵活设置各种信息格式

## 使用流程

### 第一步：输入大学名称
1. 在顶部"大学名称"输入框中输入您的大学名称（如"河海大学"）
2. 此名称将用于生成所有报备信息

### 第二步：设置自定义格式（可选）
系统提供多种自定义格式设置：

1. **队伍信息解析格式**
   - 定义如何解析输入的队伍信息
   - 可用变量：`{university}`, `{teamName}`, `{member1}`, `{member2}`, `{member3}`
   - 默认格式：`{university} {teamName} {member1} {member2} {member3}`
   - 示例：`河海大学 从零开始的ACM生活 张三 李四 王五`

* 注：如果需要开启英文名，请使用：`{university}`, `{englishName}`, `{teamName}`, `{member1}`, `{member2}`, `{member3}`，格式。

2. **上厕所格式**
   - 定义上厕所报备信息的格式
   - 可用变量：`{university}`, `{teamName}`, `{memberName}`
   - 默认格式：`{university} {teamName} {memberName} 上厕所`

3. **返回格式**
   - 定义返回报备信息的格式
   - 可用变量：`{university}`, `{teamName}`, `{memberName}`
   - 默认格式：`{university} {teamName} {memberName} 已返回`

4. **成员信息格式**
   - 定义复制成员信息的格式，支持回车
   - 可用变量：`{university}`, `{teamName}`, `{englishName}`, `{memberName}`, `{memberIndex}`
   - 默认格式：`{university} {teamName} {memberName}`

### 第三步：输入队伍信息
1. 在"队伍信息输入"文本框中按指定格式输入队伍信息
2. 每行一个队伍，字段间用制表符或空格分隔，注意队名内不要有空格，否则会错误解析
3. 示例：
   ```
   从零开始的ACM生活 张三 李四 王五
   落英缤纷之期 赵六 钱七 孙八
   ```
4. 点击"解析队伍信息"按钮，系统将解析并显示队伍表格

### 第四步：开始上厕所
1. 在队伍表格中点击成员姓名
2. 系统弹出成员信息对话框，显示成员详细信息，![1757233452391.png](https://picture.imgxt.com/local/1/2025/09/07/68bd4134580fb.png)
3. 点击"上厕所"按钮
4. 系统生成报备信息（如"河海大学 从零开始的ACM生活 张三 上厕所"）
5. 点击"复制"按钮将信息复制到剪贴板
6. 点击"关闭"完成报备
7. 该成员所在单元格将变为黄色闪烁状态，表示正在上厕所

### 第五步：结束上厕所
1. 在"正在上厕所的成员"表格中找到对应成员
2. 点击"结束上厕所"按钮
3. 系统弹出确认对话框，点击"确认返回"，![1757233509968.png](https://picture.imgxt.com/local/1/2025/09/07/68bd4174c24a8.png)
4. 系统生成返回信息（如"河海大学 从零开始的ACM生活 张三 已返回"）
5. 点击"复制"按钮将信息复制到剪贴板
6. 点击"关闭"完成报备
7. 该成员状态恢复正常，计时停止

### 第六步：管理历史记录
1. **搜索历史记录**：在搜索框中输入队伍名或成员名，实时过滤记录
2. **导出CSV**：点击"导出CSV"按钮将历史记录导出为CSV文件
3. **清空历史记录**：点击"清空历史记录"按钮永久删除所有历史记录（谨慎操作）

## 高级功能

### 队伍管理
1. **删除队伍**：点击队伍表格中的"删除队伍"按钮，删除后的队伍将不再在“队伍信息输入”模块文本显示
   - 注意：如果队伍中有成员正在上厕所，无法删除
2. **清空所有队伍**：点击"清空所有队伍"按钮
   - 注意：如果有成员正在上厕所，无法清空

### 选手信息获取
1. 在队伍表格中点击成员姓名
2. 系统弹出成员信息对话框，显示成员详细信息
3. 点击“复制成员信息”，即可按照“成员信息格式”进行复制

### 数据持久化
所有数据都保存在浏览器本地存储中：
- 刷新页面不会丢失数据
- 更换浏览器或设备将无法访问数据
- 可随时导出历史记录备份

### 使用技巧
1. **快速复制**：所有报备信息都支持一键复制到剪贴板
2. **状态标识**：正在上厕所的成员会黄色高亮显示
3. **实时计时**：系统自动计算上厕所时长
4. **格式灵活**：可根据需要自定义各种信息格式

## 常见问题

### Q1：为什么无法删除队伍？
A：请确保该队伍没有成员正在上厕所。系统会阻止删除有成员上厕所的队伍。

### Q2：如何重置所有数据？
A：清除浏览器缓存或使用"清空所有队伍"和"清空历史记录"功能。

### Q3：为什么时间显示不正确？
A：系统使用Asia/Shanghai时区，请确保您的设备时区设置正确。

### Q4：为什么复制功能失效？
A：请确保浏览器支持剪贴板API（现代浏览器均支持），或尝试手动复制。

## 技术支持
如遇任何问题，请联系系统开发者：gerchart.gxt@gmail.com

---
感谢您使用厕所报备系统！祝您在ACM比赛中取得好成绩！
